<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>ì•ˆì „í•œ ë¬¼ë†€ì´ ìˆ˜ì¹™ ë°©íƒˆì¶œ</title>
    <style>
        /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            font-family: 'Malgun Gothic', sans-serif;
            background-color: #000;
        }

        /* ê²Œì„ ì»¨í…Œì´ë„ˆ */
        #game-container {
            position: relative;
            width: 100%;
            max-width: 1280px; /* ì´ë¯¸ì§€ ì›ë³¸ ë¹„ìœ¨ì— ë§ì¶˜ ìµœëŒ€ ë„ˆë¹„ */
            max-height: 853px; /* ì´ë¯¸ì§€ ì›ë³¸ ë¹„ìœ¨ì— ë§ì¶˜ ìµœëŒ€ ë†’ì´ */
            margin: auto;
            top: 50%;
            transform: translateY(-50%);
        }

        #game-container img {
            width: 100%;
            display: block;
        }

        /* í´ë¦­ ê°€ëŠ¥ ì˜¤ë¸Œì íŠ¸ ê³µí†µ ìŠ¤íƒ€ì¼ */
        .object {
            position: absolute;
            background-color: rgba(255, 255, 0, 0); /* ê°œë°œ ì‹œ í™•ì¸ì„ ìœ„í•´ ìƒ‰ìƒ ì‚¬ìš©, ìµœì¢…ë³¸ì€ 0ìœ¼ë¡œ ì„¤ì • */
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .object:hover {
             background-color: rgba(255, 255, 0, 0.3);
        }

        /* ì˜¤ë¸Œì íŠ¸ ìœ„ì¹˜ ì„¤ì • (top, left, width, heightë¥¼ %ë¡œ ì„¤ì •í•˜ì—¬ ë°˜ì‘í˜• ëŒ€ì‘) */
        #monitor { top: 43%; left: 16%; width: 15%; height: 18%; }
        #speaker { top: 12%; left: 24%; width: 5%; height: 9%; }
        #clock { top: 15%; left: 78%; width: 7%; height: 12%; }
        #pencil-case { top: 62%; left: 81%; width: 10%; height: 10%; }
        #door { top: 25%; left: 3%; width: 12%; height: 50%; }

        /* ëª¨ë‹¬ ê³µí†µ ìŠ¤íƒ€ì¼ */
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.6);
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: #fff;
            padding: 30px;
            border-radius: 10px;
            width: 80%;
            max-width: 500px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .modal-content h2 { margin-top: 0; }
        .modal-content p { font-size: 1.1em; }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 2em;
            font-weight: bold;
            color: #555;
            cursor: pointer;
        }

        .puzzle-options button {
            display: block;
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            font-size: 1em;
            cursor: pointer;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #f0f0f0;
        }
        .puzzle-options button:hover { background-color: #ddd; }

        /* ë©”ëª¨ë¦¬ ì¹´ë“œ ê²Œì„ ìŠ¤íƒ€ì¼ */
        #memory-game-board {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 20px;
        }
        .card {
            width: 100%;
            padding-bottom: 100%; /* ì •ì‚¬ê°í˜• ìœ ì§€ë¥¼ ìœ„í•œ íŠ¸ë¦­ */
            position: relative;
            cursor: pointer;
            transform-style: preserve-3d;
            transition: transform 0.5s;
        }
        .card.flipped, .card.matched { transform: rotateY(180deg); }
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 5px;
            font-size: 0.8em;
        }
        .card-front {
            background-color: #4a90e2;
            color: white;
        }
        .card-back {
            background-color: #f5a623;
            color: white;
            transform: rotateY(180deg);
        }
        
        /* ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ ëª¨ë‹¬ */
        #password-input {
            width: 70%;
            padding: 15px;
            font-size: 1.5em;
            text-align: center;
            margin: 20px auto;
            letter-spacing: 0.2em;
        }
        #password-submit-btn {
            width: 75%;
            padding: 12px;
            font-size: 1.2em;
            cursor: pointer;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
        }
    </style>
</head>
<body>

    <!-- ê²Œì„ í™”ë©´ -->
    <div id="game-container">
        <img src="https://i.ibb.co/fVCPV3jd/Whisk-8ad83bd02f.jpg" alt="êµì‹¤ ë°°ê²½">
        <!-- í´ë¦­ ê°€ëŠ¥ ì˜¤ë¸Œì íŠ¸ -->
        <div class="object" id="monitor" title="ëª¨ë‹ˆí„°"></div>
        <div class="object" id="speaker" title="ë²½ ìŠ¤í”¼ì»¤"></div>
        <div class="object" id="clock" title="ì‹œê³„"></div>
        <div class="object" id="pencil-case" title="í•„í†µ"></div>
        <div class="object" id="door" title="êµì‹¤ë¬¸"></div>
    </div>

    <!-- íŒíŠ¸/ë¬¸ì œ/ë¯¸ë‹ˆê²Œì„ ëª¨ë‹¬ -->
    <!-- 1. ì‹œê³„ (íŒíŠ¸) -->
    <div id="clock-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">Ã—</span>
            <h2>ë²½ì‹œê³„</h2>
            <p>ì‹œê³„ê°€ ë©ˆì¶°ìˆë‹¤. ì‹œê³„ ë’·ë©´ì— ë¬´ì–¸ê°€ ì í˜€ìˆë‹¤.</p>
            <p style="font-size: 1.5em; color: red; font-weight: bold;">"íƒˆì¶œ ë¹„ë°€ë²ˆí˜¸ì˜ ë§ˆì§€ë§‰ ìˆ«ìëŠ” Oì™€ ê´€ë ¨ì´ ê¹Šë‹¤."</p>
        </div>
    </div>

    <!-- 2. ëª¨ë‹ˆí„° (ë¬¸ì œ 1) -->
    <div id="monitor-modal" class="modal">
        <div class="modal-content">
             <span class="close-btn">Ã—</span>
            <h2>ëª¨ë‹ˆí„° ì „ì›ì´ ì¼œì¡Œë‹¤!</h2>
            <p><strong>[ë¬¸ì œ]</strong> ë¬¼ì— ë“¤ì–´ê°€ê¸° ì „, ì‹¬ì¥ë§ˆë¹„ë¥¼ ì˜ˆë°©í•˜ê³  ì²´ì˜¨ì„ ì ì‘ì‹œí‚¤ê¸° ìœ„í•´ ìµœì†Œí•œ ëª‡ ë¶„ ë™ì•ˆ ì¤€ë¹„ìš´ë™ì„ í•˜ëŠ” ê²ƒì´ ì¢‹ì„ê¹Œìš”?</p>
            <div class="puzzle-options">
                <button onclick="checkAnswer('monitor', '5ë¶„')">1. 5ë¶„</button>
                <button onclick="checkAnswer('monitor', '10ë¶„')">2. 10ë¶„</button>
                <button onclick="checkAnswer('monitor', '20ë¶„')">3. 20ë¶„</button>
            </div>
        </div>
    </div>

    <!-- 3. ìŠ¤í”¼ì»¤ (ë¬¸ì œ 2) -->
    <div id="speaker-modal" class="modal">
        <div class="modal-content">
             <span class="close-btn">Ã—</span>
            <h2>ìŠ¤í”¼ì»¤ì—ì„œ ì•ˆë‚´ë°©ì†¡ì´ ë‚˜ì˜¨ë‹¤.</h2>
            <p><strong>[ë¬¸ì œ]</strong> ë¬¼ì— ë¹ ì§„ ì‚¬ëŒì„ ë°œê²¬í–ˆì„ ë•Œ, ê°€ì¥ ë¨¼ì € í•´ì•¼ í•  ìœ„í—˜í•œ í–‰ë™ì€ ë¬´ì—‡ì¼ê¹Œìš”?</p>
            <div class="puzzle-options">
                <button onclick="checkAnswer('speaker', 'ì£¼ë³€ì— ì•Œë¦¬ê¸°')">1. "ì‚¬ëŒ ì‚´ë ¤!" ì£¼ë³€ì— ì†Œë¦¬ì³ ì•Œë¦°ë‹¤.</button>
                <button onclick="checkAnswer('speaker', 'ë„êµ¬ ë˜ì§€ê¸°')">2. ê·¼ì²˜ì˜ íŠœë¸Œë‚˜ ê¸´ ë§‰ëŒ€ë¥¼ ë˜ì ¸ì¤€ë‹¤.</button>
                <button onclick="checkAnswer('speaker', 'ì§ì ‘ ë“¤ì–´ê°€ê¸°')">3. ìˆ˜ì˜ ì‹¤ë ¥ì„ ë¯¿ê³  ì¦‰ì‹œ ë¬¼ì— ë›°ì–´ë“ ë‹¤.</button>
            </div>
        </div>
    </div>
    
    <!-- 4. í•„í†µ (ë¯¸ë‹ˆê²Œì„) -->
    <div id="pencil-case-modal" class="modal">
        <div class="modal-content">
             <span class="close-btn">Ã—</span>
            <h2>ë¬¼ë†€ì´ ì•ˆì „ ìˆ˜ì¹™ ì¹´ë“œ ë§ì¶”ê¸°</h2>
            <p>ê°™ì€ ê·¸ë¦¼ì˜ ì¹´ë“œë¥¼ ë‘ ê°œì”© ì°¾ì•„ ì§ì„ ë§ì¶”ì„¸ìš”.</p>
            <div id="memory-game-board"></div>
        </div>
    </div>
    
    <!-- 5. êµì‹¤ë¬¸ (ë¹„ë°€ë²ˆí˜¸ ì…ë ¥) -->
    <div id="door-modal" class="modal">
        <div class="modal-content">
             <span class="close-btn">Ã—</span>
            <h2>íƒˆì¶œ</h2>
            <p>ë„¤ ìë¦¬ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ê³  ë¬¸ì„ ì—¬ì„¸ìš”.</p>
            <input type="number" id="password-input" maxlength="4" oninput="this.value=this.value.slice(0,4);">
            <button id="password-submit-btn">íƒˆì¶œí•˜ê¸°</button>
        </div>
    </div>


    <script>
        // ì „ì—­ ë³€ìˆ˜ ë° ìƒíƒœ
        const finalPassword = "2025";
        let solvedPuzzles = { monitor: false, speaker: false, clock: false, memoryGame: false };

        // DOM ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
        const objects = {
            monitor: document.getElementById('monitor'),
            speaker: document.getElementById('speaker'),
            clock: document.getElementById('clock'),
            pencilCase: document.getElementById('pencil-case'),
            door: document.getElementById('door')
        };

        const modals = {
            monitor: document.getElementById('monitor-modal'),
            speaker: document.getElementById('speaker-modal'),
            clock: document.getElementById('clock-modal'),
            pencilCase: document.getElementById('pencil-case-modal'),
            door: document.getElementById('door-modal')
        };
        
        // ëª¨ë‹¬ ë‹«ê¸° ë²„íŠ¼ ì´ë²¤íŠ¸
        document.querySelectorAll('.close-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                btn.closest('.modal').style.display = 'none';
            });
        });

        // ì˜¤ë¸Œì íŠ¸ í´ë¦­ ì´ë²¤íŠ¸
        objects.monitor.addEventListener('click', () => modals.monitor.style.display = 'flex');
        objects.speaker.addEventListener('click', () => modals.speaker.style.display = 'flex');
        objects.clock.addEventListener('click', () => {
            modals.clock.style.display = 'flex';
            if (!solvedPuzzles.clock) {
                alert('[íŒíŠ¸ íšë“] ì‹œê³„ì—ì„œ ìª½ì§€ë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤.');
                solvedPuzzles.clock = true;
            }
        });
        objects.pencilCase.addEventListener('click', () => {
            modals.pencilCase.style.display = 'flex';
            if (!solvedPuzzles.memoryGame) {
                setupMemoryGame();
            }
        });
        objects.door.addEventListener('click', () => modals.door.style.display = 'flex');

        // ë¬¸ì œ ì •ë‹µ í™•ì¸
        function checkAnswer(puzzle, answer) {
            const correctAnswers = {
                monitor: '10ë¶„',
                speaker: 'ì§ì ‘ ë“¤ì–´ê°€ê¸°'
            };

            if (answer === correctAnswers[puzzle]) {
                if (!solvedPuzzles[puzzle]) {
                    let hint = '';
                    if (puzzle === 'monitor') hint = "ë¹„ë°€ë²ˆí˜¸ì˜ ì²« ë‘ ìë¦¬ëŠ” '20' ì…ë‹ˆë‹¤.";
                    if (puzzle === 'speaker') hint = "ë¹„ë°€ë²ˆí˜¸ì˜ ì„¸ ë²ˆì§¸ ìˆ«ìëŠ” ë‘ ë²ˆì§¸ ìˆ«ìì™€ ê°™ìŠµë‹ˆë‹¤.";
                    
                    alert(`ì •ë‹µì…ë‹ˆë‹¤! [íŒíŠ¸ íšë“]\n${hint}`);
                    solvedPuzzles[puzzle] = true;
                } else {
                    alert('ì´ë¯¸ í•´ê²°í•œ ë¬¸ì œì…ë‹ˆë‹¤.');
                }
                modals[puzzle].style.display = 'none';
            } else {
                alert('í‹€ë ¸ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ìƒê°í•´ ë³´ì„¸ìš”.');
            }
        }

        // ë©”ëª¨ë¦¬ ì¹´ë“œ ê²Œì„ ë¡œì§
        const memoryGameBoard = document.getElementById('memory-game-board');
        let cardItems = ['êµ¬ëª…ì¡°ë¼', 'ì¤€ë¹„ìš´ë™', 'ì•ˆì „ìš”ì›', 'íŠœë¸Œ', 'ì²´ì˜¨ìœ ì§€', 'ì‹¬ì¥ë§ˆë¹„'];
        let cards = [];
        let flippedCards = [];
        let matchedPairs = 0;

        function setupMemoryGame() {
            matchedPairs = 0;
            memoryGameBoard.innerHTML = '';
            let gameCards = [...cardItems.slice(0, 4), ...cardItems.slice(0, 4)];
            gameCards.sort(() => 0.5 - Math.random());

            gameCards.forEach(item => {
                const card = document.createElement('div');
                card.classList.add('card');
                card.dataset.value = item;
                
                const cardFront = document.createElement('div');
                cardFront.classList.add('card-face', 'card-front');
                cardFront.textContent = '?';
                
                const cardBack = document.createElement('div');
                cardBack.classList.add('card-face', 'card-back');
                cardBack.textContent = item;
                
                card.appendChild(cardFront);
                card.appendChild(cardBack);
                memoryGameBoard.appendChild(card);

                card.addEventListener('click', flipCard);
            });
        }
        
        function flipCard() {
            if (flippedCards.length < 2 && !this.classList.contains('flipped')) {
                this.classList.add('flipped');
                flippedCards.push(this);

                if (flippedCards.length === 2) {
                    setTimeout(checkForMatch, 1000);
                }
            }
        }
        
        function checkForMatch() {
            const [card1, card2] = flippedCards;
            if (card1.dataset.value === card2.dataset.value) {
                card1.classList.add('matched');
                card2.classList.add('matched');
                card1.removeEventListener('click', flipCard);
                card2.removeEventListener('click', flipCard);
                matchedPairs++;
                if (matchedPairs === 4) {
                     setTimeout(() => {
                        alert("ë¯¸ë‹ˆê²Œì„ ì„±ê³µ! [íŒíŠ¸ íšë“]\në¹„ë°€ë²ˆí˜¸ì˜ ë§ˆì§€ë§‰ ìˆ«ìëŠ” 5ì…ë‹ˆë‹¤.");
                        solvedPuzzles.memoryGame = true;
                        modals.pencilCase.style.display = 'none';
                    }, 500);
                }
            } else {
                card1.classList.remove('flipped');
                card2.classList.remove('flipped');
            }
            flippedCards = [];
        }


        // ë¹„ë°€ë²ˆí˜¸ í™•ì¸ ë¡œì§
        document.getElementById('password-submit-btn').addEventListener('click', () => {
            const inputPassword = document.getElementById('password-input').value;
            if (inputPassword === finalPassword) {
                alert('ğŸ‰ íƒˆì¶œ ì„±ê³µ! ğŸ‰\nì¶•í•˜í•©ë‹ˆë‹¤! ì•ˆì „í•œ ë¬¼ë†€ì´ ìˆ˜ì¹™ì„ ëª¨ë‘ ë°°ìš°ì…¨ìŠµë‹ˆë‹¤!');
                modals.door.style.display = 'none';
            } else {
                alert('ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤. íŒíŠ¸ë¥¼ ë‹¤ì‹œ í™•ì¸í•´ë³´ì„¸ìš”.');
            }
        });

    </script>
</body>
</html>